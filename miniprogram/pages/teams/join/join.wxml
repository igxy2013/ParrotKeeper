<!--pages/teams/join/join.wxml-->
<view class="container">
  <app-header title="加入团队" subtitle="通过邀请码加入团队协作" showBack="{{true}}"></app-header>

  <!-- 加入团队表单 -->
  <view class="join-form-card">
    <view class="form-header">
      <view class="form-icon">🎯</view>
      <view class="form-title">输入邀请码</view>
      <view class="form-desc">请输入团队管理员提供的邀请码</view>
    </view>

    <view class="form-content">
      <view class="input-group">
        <view class="input-label">
          <text class="label-text">邀请码</text>
          <text class="label-required">*</text>
        </view>
        <view class="input-wrapper">
          <input 
            class="invite-code-input" 
            type="text" 
            placeholder="请输入6位邀请码" 
            value="{{inviteCode}}"
            bindinput="onInviteCodeInput"
            maxlength="6"
            auto-focus="{{true}}"
          />
          <view class="input-clear" wx:if="{{inviteCode}}" bindtap="clearInviteCode">
            <text class="clear-icon">✕</text>
          </view>
        </view>
        <view class="input-hint">邀请码由6位字母和数字组成</view>
      </view>

      <view class="form-actions">
        <button 
          class="join-btn {{inviteCode.length === 6 ? 'active' : 'disabled'}}" 
          bindtap="joinTeam"
          disabled="{{inviteCode.length !== 6 || isJoining}}"
        >
          <text class="btn-text">{{isJoining ? '加入中...' : '加入团队'}}</text>
        </button>
      </view>
    </view>
  </view>

  <!-- 帮助信息 -->
  <view class="help-card">
    <view class="help-header">
      <view class="help-icon">💡</view>
      <text class="help-title">如何获取邀请码？</text>
    </view>
    <view class="help-content">
      <view class="help-item">
        <view class="help-step">1</view>
        <text class="help-text">联系团队管理员或创建者</text>
      </view>
      <view class="help-item">
        <view class="help-step">2</view>
        <text class="help-text">管理员在团队设置中获取邀请码</text>
      </view>
      <view class="help-item">
        <view class="help-step">3</view>
        <text class="help-text">输入6位邀请码即可加入团队</text>
      </view>
    </view>
  </view>

  <!-- 创建团队提示 -->
  <view class="create-team-card">
    <view class="create-header">
      <view class="create-icon">🚀</view>
      <text class="create-title">还没有团队？</text>
    </view>
    <view class="create-content">
      <text class="create-desc">您也可以创建自己的团队，邀请其他成员加入</text>
      <button class="create-btn" bindtap="createTeam">
        <text class="btn-text">创建团队</text>
      </button>
    </view>
  </view>
</view>
